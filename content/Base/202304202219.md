[[00 V-Sekai]] [[V-Sekai.canvas]]
***
[**Lyuma**](https://discord.com/channels/471446618156040210/471734527312789505/1098518287593242645)
***
*Итак, вот над чем я работал*

# В краткосрочной перспективе:
Я работал над *загрузкой аватара*.
У нас есть простая демонстрация аватара с жестко закодированными руками и головой, но которая очень хорошо отслеживает HMD, которую я хотел бы расширить и отобразить на ней аватар VRM. 
Я думаю, что это можно сделать гораздо проще, чем наш старый код с основными узлами (компонентами), которые добавляют визуальное отображение аватара и выполняют отслеживание IK. 
Если мы сделаем это хорошо, это означает, что рендер аватара может быть более легко доступен из пропов и карт (например, я смогу создавать NPC), поэтому такой подход мне нравится.

*Импорт VRM и Unity* - часть моих интересов, поэтому я хочу поддерживать их.

Нам также нужно *согласовать сетевой код, используя сетевую систему Godot*. 
С этим мы тоже немного поработали.

Наконец, есть довольно серьезная проблема с *джиттером*: 
и в сетевой интерполяции, и в голосе полностью отсутствуют буфер и интерполяция джиттера, поэтому звук будет просто обрываться при достижении предела буфера.
[Джиттер](https://ru.wikipedia.org/wiki/%D0%94%D0%B6%D0%B8%D1%82%D1%82%D0%B5%D1%80)

# Среднесрочная перспектива: 
*сеть*: интегрировать систему сущностей с сетевой архитектурой и повторно интегрировать фоновую загрузку для аватаров и карт. 
Фоновая загрузка может значительно измениться, когда *reduz* доработает многопоточное дерево сцен, поэтому нам может потребоваться переоценка приоритетов сущностей и фоновой загрузки, когда изменения в многопоточности будут интегрированы в основной движок *Godot*.

*Работа над пользовательским интерфейсом*: 
наш пользовательский интерфейс полностью сломан в VR 
(в том смысле, что лазерная указка даже не работает).

Я также не в восторге от выбора пользовательского интерфейса, который мы использовали в нашей оригинальной демонстрации. Это нормально для настольного использования, но, например, в VR вы, вероятно, захотите что-то вроде серии порталов, представляющих работающие серверы, уже доступные из области меню, а для запуска сервера вы можете сделать это, захватив (щелкнув) кристалл хоста и поместив его в область листинга, или просто скопировав его ip/порт в общий доступ вручную. 

Аватары, например, можно сделать, схватив их и надев, немного похоже на то, как вы делали это в Neos, но без оставления мусора, потому что это неудобно и глупо. А для портала карты, когда-нибудь вы сможете взять карту из меню и бросить ее на землю, чтобы создать портал, но пока это очень неудобно, потому что наш игровой сервер поддерживает хостинг только одного экземпляра за раз, что приводит меня к следующему.

Работа над планом легкого сервера ретрансляции инстансов, который представляет собой один процесс, способный размещать несколько экземпляров, с минимальной обработкой сервера.

# Более долгосрочная перспектива:
*Масштабируемые инстансы*: используя дерево или другую подобную сетевую топологию, сетевые обновления с одного сервера инстанса могут передаваться другим серверам инстанса. 
Мы обсуждали здесь множество различных архитектур, поэтому эта задача будет посвящена реализации одной из них.

*Более оптимизированный поток создания контента*
Отсутствие заиканий при загрузке контента. Другие люди, с которыми я говорил, говорят мне, что это должно быть немедленным приоритетом, а не откладываться на долгий срок, но дело в том, что в самом Godot есть узкие места, поэтому мы можем попытаться сделать все возможное в нашем коде, но пока Godot не сделает RenderingServer полностью многопоточным, например, это невозможно будет исправить.

Наконец, работа над некоторыми *социальными функциями и функциями загрузки*.

Больше работы над *видео и аудио*, 
например, чтобы обеспечить потоковую передачу видео и livestream-контента в мир и из мира.

*Интеграция скриптов*

*Большая работа над UX*, 
чтобы сделать V-Sekai удобным для нетехнической аудитории. 
Это должно включать поток для загрузки аватаров VRM.

*Рассмотрим UX создания контента в редакторе Godot*, 
но это будет крайне сложно сделать доступным для нетехнических пользователей.

Возможно, многое другое.