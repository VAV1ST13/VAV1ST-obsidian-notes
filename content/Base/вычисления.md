202207211437
***
[[The Metaverse And How It Will Revolutionize Everything]]
***
СВОЕВРЕМЕННАЯ ОТПРАВКА ДОСТАТОЧНОГО КОЛИЧЕСТВА ДАННЫХ - это лишь одна часть процесса управления синхронизированным виртуальным миром. Данные также должны быть поняты, код должен быть запущен, входные данные оценены, логика выполнена, среды визуализированы и так далее. Это работа центральных процессоров (CPU) и графических процессоров (GPU), широко описываемых как “вычислительные”.

Вычислительные ресурсы - это ресурс, который выполняет всю цифровую “работу”. На протяжении десятилетий мы наблюдали увеличение количества доступных и производимых вычислительных ресурсов в год, и мы стали свидетелями того, насколько мощными они могут быть. Несмотря на это, вычислительные ресурсы всегда были и, вероятно, останутся дефицитными — потому что, когда доступно больше вычислительных возможностей, мы склонны пытаться выполнять более сложные вычисления. Обратите внимание на размер средней игровой консоли за последние 40 лет. Первая PlayStation, выпущенная в 1994 году, весила 3,2 фунта и имела размеры 10,75 дюйма на 7,5 дюйма на 2,5 дюйма. Пятый, выпущенный в 2020 году, весит 9,9 фунтов и имеет размеры 15,4 дюйма на 10,2 дюйма на 4,1 дюйма. Большая часть роста связана с решением разместить в устройстве больше вычислительной мощности и большие вентиляторы для охлаждения по мере выполнения им своей работы. Сегодня оригинальная PlayStation (за исключением оптического привода) может поместиться в кошельке и стоить менее 25 долларов, но спрос на такое устройство невелик по сравнению с современными альтернативами.

Ранее в книге я писал о суперкомпьютере Pixar, созданном для выпуска "Monsters University" 2013 года: около 2000 соединенных компьютеров промышленного класса с общим количеством ядер 24 000. Стоимость этого дата-центра исчислялась бы десятками миллионов долларов, что, конечно, намного больше, чем у PlayStation 3, но также позволяет получать гораздо более крупные, детализированные и красивые изображения. В общей сложности на рендеринг каждого из 120 000 кадров фильма ушло 30 основных часов. В последующие годы Pixar заменила многие из этих компьютеров и ядер на более новые и мощные процессоры, которые могли быстрее воспроизводить те же снимки. Но вместо оптимизации скорости Pixar использует эту мощь для создания более сложных рендеров. Например, в одном кадре из фильма студии "Coco" 2017 года было почти восемь миллионов индивидуально прорисованных огней. Сначала на рендеринг каждого кадра в кадре уходило более 1000 часов, затем 450. Pixar удалось сократить время до 55 часов частично за счет “запекания” ряда источников света с шагом в 20 градусов в продольном и широтном направлениях, то есть снижения их чувствительности к камере.*1*

Это может показаться несправедливым выбором. В конце концов, не для каждого рендеринга требуется восемь миллионов источников света или технические характеристики в реальном времени, и он не будет тщательно изучен на экране IMAX площадью 350 квадратных метров. Однако рендеринг и вычисления, необходимые для Метавселенной, все еще намного сложнее. Они также должны создаваться каждые ~0,016 или, что еще лучше, ~0,0083 секунды! Не каждая компания — и уж точно немногие частные лица — могут позволить себе суперкомпьютерный центр обработки данных. На самом деле удивительно, насколько ограничены в вычислительном отношении даже самые впечатляющие виртуальные миры сегодня.

Давайте вернемся к Fortnite и Roblox. Хотя эти названия являются невероятно творческими достижениями, лежащие в их основе идеи далеко не новы. На протяжении десятилетий разработчики представляли себе опыт с десятками живых игроков (если не сотнями или тысячами) в одной общей симуляции, а также виртуальные среды, ограниченные только воображением отдельного пользователя. Проблема заключалась в том, что они были технически невозможны.

Хотя виртуальные миры с сотнями или даже тысячами “одновременных пользователей” (или CCU) стали возможны с конца 1990-х годов, как виртуальные миры, так и пользователи в них были сильно ограничены. EVE Online не позволяет отдельным игрокам объединяться с помощью аватаров. Вместо этого пользователи направляют большие и в основном неподвижные корабли для перемещения в пространстве или обмена артиллерийским огнем. Десятки аватаров World of Warcraft могут быть отрисованы в одном и том же месте, но детализация модели ограничена, перспектива относительно уменьшена, и игроки имеют ограниченный контроль над тем, что может делать каждый аватар. Если в одной области собралось слишком много игроков, сервер игры временно “разделит” ее на одновременно работающие, но независимые копии этого пространства. Некоторые игры даже решили ограничить рендеринг в реальном времени отдельными игроками и выбрать внутриигровой искусственный интеллект, при этом весь фон предварительно отрисован и, следовательно, игроки не могут повлиять на него. Участие в любом из этих событий также требовало от игрока покупки специального игрового ПК, что могло стоить тысячи долларов. Даже если бы такое устройство не было строго необходимым, пользователю, скорее всего, пришлось бы “отключить” или “уменьшить” возможности рендеринга игры или уменьшить частоту кадров вдвое.

Только к середине 2010-х миллионы устройств потребительского класса смогли управлять такой игрой, как Fortnite, — игрой с десятками богато анимированных аватаров в одном матче, каждый из которых способен на широкий спектр действий и взаимодействует в ярком и осязаемом мире, а не в холодных просторах космоса. Примерно в это же время появилось достаточно доступных серверов, которые могли бы управлять и синхронизировать входные данные, поступающие с такого большого количества устройств.

Эти достижения в области вычислительной техники привели к необычайным изменениям в индустрии видеоигр. В течение нескольких лет самыми популярными (и приносящими доход) играми в мире были игры, ориентированные на богатый UGC и большое количество одновременных пользователей (Free Fire, PUBG, Fortnite, Call of Duty: Warzone, Roblox, Minecraft). Кроме того, эти игры быстро расширились до тех видов медиа-развлечений, которые ранее были “Только для IRL” (концерт Трэвиса Скотта в Fortnite или Lil Nas X's в Roblox). Коллективным результатом этих новых жанров и событий стал огромный рост игровой индустрии. В течение среднего дня в 2021 году более 350 миллионов человек приняли участие в игре battle royale — только в одном жанре игр с высоким уровнем CCU — и миллиарды смогли это сделать. В 2016 году только 350 миллионов человек в мире владели оборудованием, необходимым для создания богатого 3D-виртуального мира. На пике своего развития в 2021 году у Roblox было 225 миллионов пользователей в месяц — цифра более чем на треть превышает продажи самой продаваемой консоли в истории PlayStation 2 и на две трети превышает объем социальных сетей, таких как Snapchat и Twitter.

Как вы, возможно, уже догадались, эти игры кажутся настолько опережающими свое время отчасти из-за специфических дизайнерских решений, которые позволяют им обходить текущие вычислительные ограничения. Большинство королевских сражений поддерживают 100 игроков, но они также используют огромные карты с многочисленными “точками интереса”, чтобы разбросать игроков далеко друг от друга. Это означает, что, хотя серверу необходимо отслеживать, что делает каждый игрок, устройству каждого игрока не нужно отображать их или отслеживать или обрабатывать их действия. И хотя игроки в конечном счете должны собраться на небольшом пространстве — иногда размером с комнату в общежитии, — сама предпосылка королевской битвы означает, что почти все игроки потерпели поражение в этот момент. И по мере того, как карта сжимается, выжить становится все труднее. Игроку королевской битвы, возможно, придется беспокоиться о 99 конкурентах, но их устройство сталкивается с гораздо меньшим количеством проблем.

Тем не менее, эти трюки заходят так далеко. Например, бесплатная игра battle royale Free Fire, предназначенная только для мобильных устройств, является одной из самых популярных игр в мире. Однако большинство его игроков находятся в Юго-Восточной Азии и Южной Америке, где большинство устройств - это устройства Android низкого и среднего уровня, а не более мощные iPhone и высококачественные Android. Таким образом, королевская битва в Free Fire ограничена 50, а не 100. Между тем, когда такие игры, как Fortnite или Roblox, проводят общественные мероприятия в более ограниченном пространстве, например, на виртуальной концертной площадке, они сокращают количество CCU до 50 или менее. Они также ограничивают возможности пользователей по сравнению со стандартными игровыми режимами. Возможность построения может быть отключена или количество танцевальных движений уменьшено с обычной дюжины или двух до одной предустановленной опции.

Если у вас процессор не такой мощный, как у среднестатистического игрока, вы заметите, что придется идти на дополнительные компромиссы. Устройства, которым несколько лет, не будут загружать пользовательские скины других игроков (поскольку они не имеют никакого отношения к игровому процессу), а вместо этого просто будут представлять их как стандартных персонажей. Несмотря на все чудеса Microsoft Flight Simulator, менее 1% настольных компьютеров или ноутбуков Mac и ПК могут даже запускать главный экрна на самых низких настройках. Одна из причин, по которой MSFS возможна на этих устройствах, заключается в том, что в ее мире так мало реального, кроме карты, погоды и траекторий полета.

Конечно, вычислительные возможности улучшаются с каждым годом. Roblox теперь поддерживает до 200 игроков в своих мирах с относительно низким уровнем графики, а в бета-тестировании возможно до 700 игроков. Однако мы по-прежнему далеки от того момента, когда единственным ограничением является творчество. Метавселенная будет включать сотни тысяч участников, участвующих в общей симуляции, и с таким количеством пользовательских виртуальных элементов, сколько им нравится; полный захват движения; возможность разнообразно изменять виртуальный мир (вместо того, чтобы выбирать из дюжины или около того вариантов) с полной сохранностью; и визуализация этого мира не только в формате 1080p (обычно считается “высокой четкостью”), но и в формате 4K или даже 8K. Даже самые мощные устройства на земле с трудом справляются с этим в режиме реального времени, потому что каждое отдельное увеличение ресурса, текстуры и разрешения или добавленный кадр и проигрыватель означают дополнительную нагрузку на ограниченные вычислительные ресурсы.

Основатель и генеральный директор Nvidia Дженсен Хуанг (Jensen Huang) считает, что следующий шаг в иммерсивном моделировании выведет нас далеко за рамки более реалистичных взрывов или более анимированного аватара. Вместо этого он предполагает применение “законов физики элементарных частиц, гравитации, электромагнетизма, электромагнитных волн, [включая] световые и радиоволны ...давления и звука”*2*.

Вопрос о том, потребует ли Метавселенная такой точности в отношении физики, является спорным. Важным моментом здесь является просто то, что вычислительной мощности всегда не хватает именно потому, что дополнительные вычислительные возможности приводят к важным достижениям. Желание Хуана перенести законы физики в виртуальный мир может показаться чрезмерным и непрактичным, но предположение, что это так, требует прогнозирования и отказа от инноваций, которые могут возникнуть в результате этого. Кто бы мог подумать, что включение королевской битвы на 100 игроков изменит мир? Что гарантировано, так это то, что доступность и ограничения для вычислений будут определять, какой опыт Метавселенной возможен, для кого, когда и где.

### Две стороны одной и той же проблемы

Мы знаем, что Метавселенная требует больше вычислений, но сколько именно требуется, остается неясным. В главе 3 я процитировал бывшего, а ныне технического директора Oculus Джона Кармака, который считает, что “создание Метавселенной - это моральный императив”. В октябре 2021 года Кармак сказал, что если бы его спросили 20 лет назад, будет ли “в сто раз больше вычислительной мощности” достаточно для выполнения этой задачи, он бы ответил "да". Тем не менее, даже несмотря на то, что миллиарды устройств в настоящее время обладают такими возможностями, по словам Кармака, до Метавселенной еще как минимум пять-десять лет, и даже на дальнем краю этого прогноза все равно будут “серьезные компромиссы в оптимизации”. Два месяца спустя Раджа Кодури, вице-президент Intel и генеральный менеджер группы ускоренных вычислений и графики, опубликовал аналогичные мысли на сайте Intel по связям с инвесторами. Кодури сказал, что “действительно, метавселенная может стать следующей крупной платформой в вычислительной технике после всемирной паутины и мобильных устройств...[но] по-настоящему постоянные и захватывающие вычисления, масштабируемые и доступные миллиардам людей в режиме реального времени, потребуют еще большего: повышения вычислительной эффективности в 1000 раз по сравнению с сегодняшним уровнем техники”*3*.

Существуют различные точки зрения на то, как лучше всего этого достичь.

Один из аргументов заключается в том, что как можно больше “работы” должно выполняться в удаленных центрах обработки данных промышленного уровня, а не на потребительских устройствах. Тот факт, что большая часть работы, связанной с виртуальным миром, выполняется на устройстве каждого пользователя, многим кажется расточительным, поскольку это означает, что многие устройства выполняют одну и ту же работу одновременно для поддержки одного и того же опыта. Напротив, сверхмощный сервер, управляемый “владельцем” виртуального мира, просто отслеживает вводимые пользователем данные, ретранслирует их при необходимости, а затем рассматривает конфликты процессов, когда они возникают. Ему даже не нужно ничего визуализировать!

Пример помогает воплотить это в (виртуальную) жизнь. Когда игрок стреляет из ракетницы в дерево в Fortnite, эта информация (используемый предмет, его атрибуты и траектория снаряда) отправляется с устройства этого игрока на многопользовательский сервер Fortnite, который затем передает эту информацию всем игрокам, которым требуется эта информация. Затем их локальные машины обрабатывают эту информацию и действуют на ее основе: они показывают взрыв, определяют, пострадали ли их игроки, удаляют дерево с карты и позволяют игрокам перемещаться по тому месту, где оно когда-то было, и так далее.

На практике игроки могут даже не увидеть один и тот же визуальный взрыв, даже если “то же самое” взрывчатое вещество попало в точно такое же “то же” дерево под точно таким же “тем же” углом в точно такое же “то же” время, и для обработки причины и следствия была применена точно такая же логика. Это отражает тот факт, что (из-за переменной задержки) данное устройство может подумать, что ракета была отправлена немного раньше или позже и с немного другой позиции. Обычно это не имеет значения, но иногда это имеет огромное значение. Например, консоль игрока 1 может определить, что Игрок 2 был убит взрывом, уничтожившим дерево, в то время как консоль игрока 2 скажет, что игрок 2 получил значительный, но не смертельный урон. Ни одна из консолей не является “неправильной”, но игра, очевидно, не может работать с обеими версиями “правды”. И поэтому сервер должен “выбрать”.

Нынешняя зависимость от персональных устройств создает и другие ограничения. Потребители могут испытать только то, с чем может справиться их собственное устройство. iPad 2019 года, PlayStation 4 2013 года выпуска и PlayStation 5 2020 года выпуска будут представлять Fortnite по-разному. Скорость iPad будет ограничена 30 кадрами в секунду, в то время как PlayStation 4 будет предлагать 60 кадров в секунду, а PlayStation 5 - 120 кадров в секунду. iPad, скорее всего, загрузит только выборочные текстуры карт и, возможно, даже пропустит наряды аватаров, в то время как PlayStation 5 покажет преломление света и теней, чего не может PlayStation 4. Это, в свою очередь, означает, что общая сложность виртуального мира в конечном итоге частично ограничивается самым низким конечным устройством, которое может получить к нему доступ. Epic Games решила, что аватары и наряды в Fortnite не должны влиять на игровой процесс, но изменение своего мнения может повлечь за собой отсечение многих игроков.

Перенос как можно большего объема обработки и рендеринга в центры обработки данных промышленного уровня представляется как более эффективным, так и необходимым для построения Метавселенной. Уже есть компании и службы, указывающие в этом направлении. Например, Google Stadia и Amazon Luna обрабатывают весь игровой процесс в удаленных центрах обработки данных, а затем передают весь отрисованный опыт на устройство пользователя в виде видеопотока. Единственное, что нужно сделать клиентскому устройству, это воспроизвести это видео и отправить входные данные (переместить влево, нажать X и т.д.) — аналогично просмотру Netflix.

Сторонники этого подхода часто подчеркивают логику питания наших домов с помощью электросетей и промышленных электростанций, а не частных генераторов. Облачная модель позволяет потребителям отказаться от покупки компьютеров потребительского класса, которые редко обновляются и продаются в магазинах, и вместо этого арендовать доступ к оборудованию корпоративного уровня, которое более экономично на единицу вычислительной мощности и легче обновляется. Независимо от того, есть ли у пользователя iPhone стоимостью 1500 долларов или старый холодильник с поддержкой Wi-Fi и видеоэкраном, он может воспроизвести такое трудоемкое название, как Cyberpunk 2077, во всей его полностью отрисованной красе. Почему виртуальный мир должен зависеть от небольшого потребительского оборудования, завернутого в пластиковые чехлы, а не от многомиллионного (если не миллиардного) серверного стека, принадлежащего компании, которая управляет виртуальным миром?

Несмотря на всю кажущуюся логичность этого подхода и успех серверных контент-сервисов, таких как Netflix и Spotify, удаленный рендеринг сегодня не является консенсусным решением среди издателей игр. Тим Суини утверждал, что “инициативы по размещению обработки в реальном времени по ту сторону стены задержек всегда были обречены на провал, потому что, несмотря на то, что пропускная способность и задержка улучшаются, производительность локальных вычислений повышается быстрее”*4*. Иными словами, дискуссия заключается не в том, могут ли удаленные центры обработки данных предложить лучшие опыта, чем те, которые принадлежат потребителю. Очевидно, что они могут это сделать. Скорее всего, дело в том, что сети мешают и, скорее всего, будут продолжать мешать.

Здесь аналогия с генератором энергии начинает разрушаться. В большинстве развитых стран потребители не испытывают трудностей с получением необходимой им электроэнергии на ежедневной основе и не так быстро, как это необходимо. И это несмотря на то, что передается очень мало энергии, то есть данных. Для доставки удаленной визуализации в режиме реального времени потребуется отправлять много гигабайт в час. Но, как вы знаете, мы все еще изо всех сил пытаемся своевременно отправлять несколько мегабайт в час.

Кроме того, удаленный компьютер еще не доказал свою эффективность в рендеринге. Это является следствием нескольких взаимосвязанных проблем.

Во-первых, графический процессор не отображает весь виртуальный мир или даже большую его часть в любой заданной точке. Вместо этого он отображает только то, что необходимо для данного пользователя, когда ему это нужно. Когда игрок разворачивается в такой игре, как The Legend of Zelda: Breath of the Wild, графический процессор Nvidia Nintendo Switch эффективно выгружает все, что было ранее отрисовано, чтобы поддерживать новое поле зрения игрока. Этот процесс называется “отбраковкой фрустрации просмотра”. Другие методы включают “окклюзию”, при которой объекты, находящиеся в поле зрения игрока, не загружаются / не отображаются, если они заблокированы другим объектом, и “уровень детализации” (LOD), при котором информация, такая как тонкая текстура коры березы, отображается только визуализируется, когда игрок должен быть в состоянии его увидеть.

Отбраковка, окклюзия и LCD решения необходимы для визуализации в реальном времени, поскольку они позволяют устройству пользователя концентрировать свои вычислительные мощности на том, что пользователь может видеть. Но в результате другие пользователи не могут ”откатиться" от работы графического процессора одного игрока. Некоторые читатели могут подумать, что это ложь, вспомнив много часов, проведенных за игрой в Mario Kart на Nintendo 64, которая позволяла игрокам “разбивать” экран телевизора на четыре части, по одному для каждого водителя. Даже сегодня Fortnite позволяет одной PlayStation или Xbox разделить экран пополам, чтобы два игрока могли играть одновременно. Но в этом случае соответствующий графический процессор поддерживает одновременный рендеринг для нескольких участников, а не пользователей. Различие здесь имеет решающее значение. Каждый игрок должен участвовать в одном и том же матче и уровне — и также не может покинуть его досрочно. Это связано с тем, что процессоры устройства могут загружать и управлять только конечным объемом информации, а его система оперативной памяти будет временно хранить различные рендеры (например, дерево или здание), чтобы каждый игрок мог постоянно использовать их повторно, а не каждый раз рендерить с нуля. Кроме того, разрешение каждого плеера и/или частота кадров снижаются на величину, пропорциональную количеству пользователей. Это означает, что даже если для игры в Mario Kart для двух игроков используются два телевизора, а не один телевизор, разделенный на два, каждый игрок получает вдвое меньше отображаемых пикселей в секунду.

Технически возможно, чтобы графический процессор отображал две совершенно разные игры. Первоклассный графический процессор Nvidia, безусловно, может поддерживать две различные эмуляции 2D-игры Super Mario Bros с боковой прокруткой или одну версию Super Mario Bros и другую столь же маломощную игру. Однако это делается не с точки зрения эффективности вычислений. Графический процессор Nvidia, который может запускать высококачественную игру A с максимальными характеристиками рендеринга, не может запускать две версии игры с половиной спецификаций или даже с третьей. Он также не может распределять свою силу между каждой игрой в зависимости от того, что им нужно и когда, как например родитель помогает двум детям учиться или ложиться спать. Даже если игра A никогда не сможет использовать всю мощность данного графического процессора Nvidia, этот резерв не может быть назначен в другом месте.

Графические процессоры не генерируют общую “мощность” рендеринга, которую можно разделить между пользователями так, как электростанция распределяет электричество по нескольким домам, или так, как сервер CPU может поддерживать ввод, местоположение и синхронизацию данных для сотни игроков в королевской битве. Вместо этого графические процессоры обычно работают как “закрытый инстанс”, поддерживающий рендеринг одного игрока. Многие компании работают над этой проблемой, но до тех пор, пока это не станет возможным, нет присущей эффективности в проектировании “мега-графических процессоров”, подобных крупным промышленным генераторам, турбинам или другой инфраструктуре. В то время как генераторы энергии, как правило, более экономичны на единицу мощности по мере увеличения их мощности, с графическими процессорами происходит обратное. Графический процессор, который в два раза мощнее другого, в упрощенном смысле, стоит более чем в два раза дороже.

Трудности, связанные с “разделением” или “совместным использованием” графических процессоров, являются причиной того, что фермы серверов потоковой передачи облачных игр Microsoft Xbox фактически состоят из стоек и стоек с удаленными Xbox, каждая из которых обслуживает игрока. Другими словами, электростанция Microsoft на самом деле представляет собой просто сеть электрогенераторов для одного домохозяйства, а не один, размером с район. Microsoft могла бы использовать специальное оборудование GPU и CPU для поддержки облачных инстансов, а не оборудование GPU и CPU в своих ориентированных на потребителя Xbox. Однако для этого потребуется, чтобы каждая игра Xbox была разработана для поддержки дополнительного “типа” Xbox.

Серверы облачного рендеринга также сталкиваются с проблемами использования. Облачному игровому сервису может потребоваться 75 000 выделенных серверов для района Кливленда в 8 часов вечера. В воскресенье вечером, но в среднем только 20 000 и 4000 в 4 часа утра. Понедельник. Когда потребители владеют этими серверами в виде консолей или игровых ПК, не имеет значения, что они не используются или находятся в автономном режиме. Однако экономика центров обработки данных ориентирована на оптимизацию в соответствии со спросом. В результате аренда высокопроизводительных графических процессоров с низким коэффициентом использования всегда будет дорогостоящей.

Вот почему Amazon Web Services предоставляет клиентам льготный тариф, если они заранее арендуют серверы у Amazon (“зарезервированные экземпляры”). Клиентам гарантирован доступ на следующий год, потому что они заплатили за сервер, а Amazon забирает разницу между стоимостью и ценой, взимаемой с клиента (самый дешевый зарезервированный экземпляр AWS для Linux GPU, эквивалентный PS4, стоит более 2000 долларов за один год). Если клиент хочет получить доступ к серверам, когда они ему нужны (“точечные экземпляры”), он может обнаружить, что они недоступны или доступны только графические процессоры более низкого уровня. Этот последний момент является ключевым: мы не решаем проблему нехватки вычислительных ресурсов, если единственный способ сделать удаленные серверы доступными - это использовать, а не заменять старые.

Есть еще один способ улучшить модели затрат: консолидировать серверы в меньшем количестве местоположений. Вместо того чтобы управлять облачным центром потоковой передачи игр в Огайо, штате Вашингтон, Иллинойсе и Нью-Йорке, компания могла бы просто построить один или два. По мере увеличения числа и разнообразия клиентов спрос, как правило, стабилизируется, что приводит к увеличению среднего коэффициента использования. Конечно, это также означает увеличение расстояния между удаленными графическими процессорами и конечным пользователем, тем самым увеличивая задержку. И это также не решает проблему расстояния между пользователями.

Перенос вычислительных ресурсов в облако создает много новых затрат. Например, расположенные бок о бок, всегда включенные устройства, работающие в центрах обработки данных, выделяют значительное тепло - гораздо больше, чем совокупное тепло серверов, расположенных в семейной гостиной credenza. Обслуживание, обеспечение безопасности и управление этим оборудованием обходятся дорого. Переход от потоковой передачи ограниченных битов данных к контенту с высоким разрешением и высокой частотой кадров также означает существенно более высокие затраты на полосу пропускания. Да, Netflix и другие компании компенсируют затраты, но обычно они отправляют менее 30 кадров видео в секунду (а не от 60 до 120) с более низким разрешением (например, 1K или 2K, а не 4K или 8K, как было обещано Google Stadia), не в режиме реального времени, а также с близлежащих серверов, которые хранят файлы, а не выполняют интенсивные вычислительные операции.

В обозримом будущем то, что я называю “Законом Суини” — улучшения в локальных вычислениях будут по—прежнему опережать улучшения в пропускной способности сети, задержке и надежности, - похоже, сохранится. Хотя многие считают, что Закон Мура, который был придуман в 1965 году и гласит, что количество транзисторов в плотной интегральной схеме удваивается примерно каждые два года, в настоящее время замедляется, вычислительная мощность процессоров и графических процессоров продолжает расти быстрыми темпами. Кроме того, сегодня потребители часто заменяют свое основное вычислительное устройство, что приводит к значительному улучшению вычислительных возможностей конечных пользователей каждые два-три года.

### Мечты о децентрализованных вычислениях

Неутолимая потребность в большей вычислительной мощности — в идеале, расположенной как можно ближе к пользователю, но, по крайней мере, в близлежащих промышленных серверных фермах — неизменно приводит к третьему варианту: децентрализованным вычислениям. С таким количеством мощных и часто неактивных устройств в домах и на руках потребителей, рядом с другими домами и на руках, кажется неизбежным, что мы будем разрабатывать системы для совместного использования их большей части бездействующей вычислительной мощности.

По крайней мере, в культурном плане идея коллективной, но частной инфраструктуры уже хорошо понятна. Любой, кто устанавливает солнечные панели у себя дома, может продавать излишки энергии в свою местную сеть (и, косвенно, своему соседу). Илон Маск рекламирует будущее, в котором ваша Tesla будет приносить вам арендную плату в качестве самоуправляемого автомобиля, когда вы сами им не пользуетесь, - это лучше, чем просто быть припаркованным в вашем гараже на 99% срока службы.

Уже в 1990-х годах появились программы для распределенных вычислений с использованием повседневного потребительского оборудования. Одним из самых известных примеров является программа SETI@HOME Калифорнийского университета в Беркли, в рамках которой потребители добровольно используют свои домашние компьютеры для поиска инопланетной жизни. Суини подчеркнул, что одним из пунктов его “списка дел” для шутера от первого лица Unreal Tournament 1, который был выпущен в 1998 году, было “дать игровым серверам возможность общаться друг с другом, чтобы мы могли просто иметь неограниченное количество игроков в одной игровой сессии”. Однако почти 20 лет спустя Суини признал, что эта цель “кажется, все еще находится в нашем списке желаний”.*5*

Хотя технология разделения графических процессоров и совместного использования процессоров, не относящихся к центрам обработки данных, находится на стадии становления, некоторые считают, что блокчейны обеспечивают как технологический механизм для децентрализованных вычислений, так и его экономическую модель. Идея состоит в том, что владельцы недоиспользуемых процессоров и графических процессоров будут «оплачены» в некоторой криптовалюте за использование их возможностей обработки. Там может быть даже живой аукцион для доступа к этим ресурсам, либо те, кто имеет торги по доступу, либо те, кто обладает пропускной способностью на рабочих местах.

Может ли такой рынок обеспечить часть огромных вычислительных мощностей, которые потребуются Метавселенной? Представьте, что, когда вы перемещаетесь по иммерсивным пространствам, ваша учетная запись постоянно отправляет необходимые вычислительные задачи на мобильные устройства, которые находятся, но не используются людьми рядом с вами, возможно, людьми, идущими по улице рядом с вами, для визуализации или анимации событий, с которыми вы сталкиваетесь. Позже, когда вы не будете использовать свои собственные устройства, вы будете зарабатывать токены, поскольку они возвращают услугу (подробнее об этом в главе 11). Сторонники этой концепции криптообмена рассматривают ее как неизбежную особенность всех будущих микрочипов. Каждый компьютер, каким бы маленьким он ни был, должен быть сконструирован таким образом, чтобы в любое время выставлять на аукцион любые запасные циклы. Миллиарды динамически выстроенных процессоров обеспечат глубокие вычислительные циклы даже крупнейших промышленных заказчиков и обеспечат конечную и бесконечную вычислительную сеть, которая позволяет создавать Метавселенную. Возможно, единственный способ для всех услышать, как падает дерево, - это для всех нас полить его.