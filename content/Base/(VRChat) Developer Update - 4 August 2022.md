202208052245
***
[[00 VRChat]]
***
*ссылка*
[Developer Update - 4 August 2022](https://ask.vrchat.com/t/developer-update-4-august-2022/11583)
***
Привет! Добро пожаловать в последнее обновление для разработчиков VRChat. Вот чем мы занимались сегодня.

Ознакомьтесь с нашим вчерашним обновлением разработчиков для некоторого понимания контекста.  

Вчера мы впервые разрешили комментарии к обновлению разработки. Все прошло нормально! Мы оставим их на данный момент, хотя это может измениться в будущем.

Описанные ниже функции *могут быть еще не выпущены*, если не указано иное, и *могут измениться до того, как станут доступны пользователям*.

# 4 Августа 2022
## Время простоя сервера
Сегодня между 16:00 по тихоокеанскому времени и 18:30 по тихоокеанскому времени у нас было довольно серьезное время простоя. В то время VRChat был недоступен для большинства людей.  

Проблема была внутренней и не была атакой. Внутренний сбой привел к сбою других систем.  

Первоначальная ошибка была исправлена, и последующие проблемы, которые она вызвала, устраняются, чтобы другие сбои не вызывали таких же проблем.

## Микрофонный шумоподавитель + шумоподавление
Теперь вы можете настроить точку, в которой ваш микрофон становится «hot», с помощью простого ползунка на вкладке «Аудио» в быстром меню.  

Это помогает предотвратить передачу всем вашим друзьям таких вещей, как тяжелое дыхание, всхлипывание или другие фоновые шумы.  

*Значение по умолчанию (5%) должно быть достаточно хорошим для большинства пользователей*, но если вы играете в VRChat в шумной обстановке, возможно, стоит немного увеличить его. Если ваши друзья начинают говорить, что вы прерываетесь во время разговора, это хороший признак того, что вам нужно вернуть ползунок ближе к значению по умолчанию. Попробуйте поиграть с ним!

[видео](https://aws1.discourse-cdn.com/business5/uploads/vrchat/original/2X/e/e01e0cc4599a2588a5b2d5cfaafb68271640a777.webm)

В дополнение к этому мы также добавили простую кнопку, которая включает шумоподавление. Это поможет удалить фоновый шум со входа вашего микрофона, например звук вентилятора компьютера или кондиционера.  
  
Эта функция находится на этапе контроля качества и должна появиться в следующей версии Live Beta.

## Personal Mirror

Мы изменили способ размещения/перемещения зеркала в мире… снова!  
  
Мы получили много отзывов о том, что людям нравится иметь возможность брать зеркало, поэтому мы вернулись к этому. За исключением этого времени, мы оставили возможность манипулировать зеркалом и перемещаться по нему после того, как вы схватили его джойстиком. Когда вы нажимаете правый джойстик вперед, он отталкивает зеркало от вас. Нажатие джойстика назад приблизит зеркало.

Поведение здесь должно быть очень знакомо пользователям XSOverlay!

[видео](https://aws1.discourse-cdn.com/business5/uploads/vrchat/original/2X/c/c2474e768c2510c5b87bcc33375262e82f0efad2.webm)

Кроме того, мы внедрили радиальные элементы управления, где это имеет смысл.

[видео](https://aws1.discourse-cdn.com/business5/uploads/vrchat/original/2X/7/7f23ad13a02c85eb4c545916e753332b916a3b8a.webm)

Кроме того, мы получили другие отзывы о том, что калибровочное зеркало не должно вращаться вместе с вашей головой. Хороший звонок. Так больше не делает.  
  
Эта функция находится в QA.

## Earmuffs (the feature formerly known as Conversation Dome)
Мы подумали, что название «Купол для разговоров» было несколько неудобным, поэтому теперь мы называем его «Наушники»! Намного легче.

Когда ваши наушники надеты, вокруг вас появляется круг (представляющий собой сферу), который можно настроить с помощью быстрого меню. Голос любого, кто находится за пределами этого диапазона, будет почти полностью отключен, что позволит вам «сосредоточиться» на разговоре рядом с вами. Вы можете настроить этот диапазон по своему усмотрению.  
  
Над вашим быстрым меню появится красная полоса, которая сообщит вам, что оно активировано, и каков его радиус в настоящее время. В любой момент вы можете нажать на эту полосу и немедленно деактивировать купол.  
  
В дополнение к настройке диапазона эффекта наушников вы также можете настроить расстояние спада.  
  
Таким образом, в совокупности диапазон определяет расстояние, на котором голоса игроков будут приглушены, а спад определяет, где эти голоса начинают исчезать.  
  
Если вы установите расстояние затухания равным вашему радиусу, вы не услышите никаких голосов, если только они не находятся в радиусе действия купола. С другой стороны, если вы увеличите расстояние затухания, вы все равно будете слышать голоса за пределами купола — они просто затухают по мере удаления от края купола.  
  
Мы также добавили третий ползунок, который позволяет вам настроить, как сильно понижаются голоса, когда они находятся за пределами «приглушенного» радиуса. Таким образом, вы можете сделать это на очень низкой (или нулевой!) громкости, чтобы мир не казался пустым — просто стал намного тише.

[видео](https://aws1.discourse-cdn.com/business5/uploads/vrchat/original/2X/2/2abf58709e84abd798ea77124615ea9e4f0c07f8.webm)

![[Earmuffs (the feature formerly known as Conversation Dome).png|600]]

Вдобавок ко всей этой дизайнерской работе, мы также разобрались с иконками, что помогло нам выбрать новое имя.

![[2 Earmuffs (the feature formerly known as Conversation Dome).png|600]]

И последнее замечание: эй, *авторы миров*, не беспокойтесь об изменениях громкости вашего голоса с помощью Udon. Регулировки громкости, сделанные функцией Earmuffs, применяются как последний слой «поверх» настроек Udon и мира, поэтому они не должны ломаться. Дайте нам знать, если это произойдет.  
  
Эта функция все еще находится на стадии итерации и полировки, но мы думаем, что она довольно близка к завершению.

## Скрыть аватар по расстоянию

Вчера в отзывах были высказаны некоторые опасения по поводу того, что аниматоры отключены и не работают.  
  
Мы провели небольшое расследование. Как оказалось, этой проблемы не существует… пока вы не используете Write Defaults. Если аниматор вашего аватара использует Write Defaults, вы можете попасть в неожиданные состояния Animator.

Несмотря на то, что и VRChat, и Unity рекомендуют не использовать его, многие создатели аватаров по-прежнему используют Write Defaults, и многие распространяемые префабы аватаров все еще включают его. Поэтому, к сожалению, эти аватары не будут вести себя должным образом после того, как они будут отбракованы и удалены с помощью функции «Аватар по расстоянию».

Одним из решений было бы оставить аниматоров включенными, но это потенциально серьезно влияет на производительность, особенно если учесть, что плохо сделанные аниматоры являются одним из самых больших источников потери времени кадра для многих аватаров, которые мы исследовали.  
  
Другим решением может быть отключение рендереров сетки, но нам придется проверять каждый кадр, где рендереры все еще отключены, поскольку анимация может попытаться их включить. Это также не решает проблему с производительностью Animator, а также приводит к другим проблемам с аватарами, которые воспроизводят звуки, имеют свет и т. д.  
  
Мы изучаем эту проблему, но можем выпустить ее в бета-версии как есть. В зависимости от того, сколько людей жалуются на сломанные аватары (потому что они все еще используют Write Defaults), нам, возможно, придется вернуть этот аватар обратно, чтобы получить дополнительную работу.

## More Favorites

Простое обновление здесь: оно есть!

![[More Favorites.jpeg|600]]
![[2 More Favorites.png|600]]

Этот пользовательский интерфейс выглядит запутанным, но помните, что скоро у нас выйдет новое главное меню.

Эта задача все еще находится на стадии контроля качества, но, похоже, скоро появится.

## Camera Resolution Selector

Мы добавили кнопки, позволяющие выбрать разрешение камеры.

![[Camera Resolution Selector.png]]

Здесь два важных замечания: начиная с этого снимка экрана, мы переименовали «2K» в «QHD» для технической корректности.  
  
Во-вторых, Quest не справляется с высокими разрешениями. На самом деле, если вы сделаете снимок в формате 8K, вы потерпите крах. Упс. Скорее всего, мы ограничим максимальное разрешение, в котором Quest может делать снимки.  
  
Эта задача находится в итерации после некоторого отзыва QA.

## Text Chatbox/Chat Bubble
Как упоминалось во время последнего обновления, был завершен базовый прототип окна текстового чата.  
  
С помощью текстового чата вы можете вводить сообщения, которые затем будут отображаться в облачке чата под вашей табличкой с именем. Окно чата автоматически изменит свой размер, чтобы вместить любой введенный текст, до определенного ограничения символов.

В прототипе вы получаете доступ к окну чата через меню действий в разделе «Параметры». В меню окна чата у вас есть несколько вариантов: клавиатура, очистить окно чата, видимость, продолжительность отображения и размер окна чата.  
  
Клавиатура открывает клавиатуру (сюрприз!), которая позволяет вам вводить текст в окно чата.  
  
Clear Chatbox очистит ваши сообщения. Это также происходит, если вы отправляете пустое сообщение через клавиатуру.  
  
Видимость позволяет вам изменить, чьи окна чата вы можете видеть — все, друзей или только ваши собственные. По умолчанию вы можете видеть чат только ваших друзей.

Продолжительность отображения определяет, как долго окна чата других игроков будут отображаться для вас локально. Это отличается от того, когда пользователь очищает свой чат. Это очищает его для всех, независимо от того, какая продолжительность их отображения установлена.

И, наконец, размер окна чата позволяет масштабировать размер окна чата локально. Вот превью видео.

[видео](https://aws1.discourse-cdn.com/business5/uploads/vrchat/original/2X/7/7e40a7775b6c7f45929870d0709058d6c679cd63.webm)

Мы проконсультировались с некоторыми создателями популярных систем OSC TTS, созданных для VRChat, потому что мы также заинтересованы в том, чтобы вы могли управлять своим текстовым полем чата с помощью OSC. Мы хотим убедиться, что эти системы работают безупречно с нашей системой чата Bubble. OSC может быть не реализован на первом проходе, в зависимости от того, как пойдет разработка, но посмотрим.  
  
Эта функция по-прежнему требует контроля качества, и над ней еще нужно поработать — например, режим Streamer отключит окна чата для всех. Несмотря на это, Text Chatbox может попасть в следующую бета-версию в частично завершенном состоянии.

## Bug Fixes

Как и вчера, продолжалась работа над исправлением некоторых ошибок, связанных с недавно добавленными функциями.  
  
В Live присутствует серьезная ошибка, которую мы очень хотим исправить на выходных. Это вызывает проблемы, когда вы пытаетесь присоединиться к full instance. Мы изо всех сил стараемся выпустить патч для этого завтра, так как большинство случаев «bounce off full instance» происходит во время многолюдных мероприятий по выходным.

Мы также тестируем исправление ошибки, из-за которой ваш домашний мир иногда не загружался должным образом.

## Conclusion

Это все на сегодня! Мы планировали выпустить релиз сегодня вечером, но, к сожалению, на серверах произошел небольшой сбой. Посмотрим, как все будет выглядеть завтра, но, скорее всего, будет еще один выпуск Live Beta, а также выпуск 2022.2.2p2.  
  
Увидимся завтра!