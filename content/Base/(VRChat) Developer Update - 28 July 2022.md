202208060031
***
[[00 VRChat]]
***
![[Developer Update - 28 July 2022.jpeg|600]]
Привет! Добро пожаловать в последнее обновление для разработчиков VRChat. Здесь мы поговорим о том, над чем мы работаем и как выглядит наш прогресс на данный момент.  
  
Некоторое время они будут ежедневными, хотя, вероятно, в конечном итоге мы перейдем на более медленный график. Мы не думаем, что публиковать «работал над одним и тем же» 3 дня подряд — это неинтересно, даже если это иногда случается. (Если вы *действительно* не хотите это увидеть.) Итак, *без лишней помпы*, давайте приступим к делу.

# 28 July 2022
## Совещание по производству, дизайну и распределению задач
В последние несколько дней производственные и дизайнерские команды тратили 100% своего времени на сбор отзывов сообщества и воплощение их в практические изменения или добавления функций. Команда сообщества поддерживала прямой контакт с несколькими сообществами и лидерами сообщества (такими как «Helping Hands» и другие), чтобы собрать обратную связь. Теперь существует большая база данных со всеми отзывами и информацией, которую мы собрали.

Полное собрание всего производственного, проектного и инженерного персонала собралось на полтора часа для обсуждения. Задачи были отсортированы по приоритету (в основном с учетом влияния на доступность) и степени готовности каждого элемента к отправке. Основное внимание было уделено скорости превыше всего, с пониманием того, что это может привести к изначально грубым результатам, которые впоследствии нуждаются в доработке, или к необходимости переделывать работу позже.

Команда просмотрела самые высокие пункты в этом списке и распределила их между инженерами. Обычно это немного более сложный процесс, когда в проектах есть задачи, а затем задачи передаются инженерам, но в интересах экономии времени и использования интересов людей в работе над конкретными вещами мы позволяем людям брать вещи, которые были за пределами их обычной "рулевой рубки", если они были заинтересованы в этом.

Задачи были открыты для обратной связи всей команды для любых дополнительных замечаний и идей. Исторически это работало очень хорошо – большинство людей, которые работают в VRChat, также часто играют в VRChat, так что иногда многие люди могут внести свой вклад.

На разработку было отведено примерно две недели. После этого списка есть еще несколько функций, но они распределяются так же быстро, как завершается разработка. После первого пакета изменений будет создан второй пакет, и назначения будут пересмотрены, чтобы проекты, которые были приостановлены, могли возобновиться. Несмотря на это, каждая функция и изменение, которые были собраны в процессе производства и проектирования, по крайней мере, рассматриваются (и в подавляющем большинстве случаев внедряются).

Были обсуждены некоторые вопросы логистики. Во-первых, понедельник, 1 августа, является выходным днем для VRChat (у нас есть сочетание праздников канадской и американской компаний). Для учета этого было проведено некоторое планирование.

Во-вторых, обсуждалась возможность выпуска релиза на этой неделе, возможно, в виде открытой бета-версии, совместимой с сетью. Возможно, есть какие-то функции, которые сделаны “достаточно”, чтобы люди могли их опробовать. Общий консенсус был таков: “Давайте посмотрим, что получится”.

## Функции, исправления и многое другое

Вот лишь некоторые из вещей, которые были перевезены сегодня. Это будет довольно долго, потому что сегодня все сдвинулось с места! Здесь нет особого порядка.

## Регулировка горизонта

Эта функция позволяет вам изменить свой “горизонт” таким образом, чтобы вы могли полностью использовать VRChat лежа в кровати. Это отличается от Подвижного меню. Вот краткое видео, демонстрирующее, как это выглядит с точки зрения кого-то другого:

[видео](https://aws1.discourse-cdn.com/business5/uploads/vrchat/original/2X/e/ef2016fc601242a019969c4d9e17a4d89ad56c26.webm)

Трудно сказать, но человек на этом видео все время лежит. Они садятся в последние несколько секунд видео.  
  
Это было частью недавней проблемы с внутренними функциями, и она почти завершена. В настоящее время предполагается выпустить его в виде открытого бета-тестирования, совместимого с сетью, до выходных, но это зависит от нескольких факторов. На данный момент пользовательский интерфейс перемещается в Быстрое меню.

## Чувствительность микрофона/Шумоподавление

Это уже было частью недавнего джема! Это довольно простое дополнение.  
  
Мы рассматриваем возможность добавления простого элемента пользовательского интерфейса, который позволит вам настроить, где микрофон начинает “нагреваться” и передавать звук.  
  
Эта задача была поручена человеку, который занимался проектом jam.

## Шумоподавление

Мы тоже сделали это в рамках недавнего джема. Он удаляет фоновый шум с вашего микрофона.  
  
Существует множество библиотек шумоподавления. Мы изучаем RNNoise. Это быстро, надежно, проверенно. Существует также реализация для Android, которую мы рассматриваем.  
  
Эта задача была поручена человеку, который занимался проектом jam.

## Визуальные настройки

Как описано вчера, визуальные настройки - это набор функций, который включает в себя набор фильтров дальтонизма, которые можно установить, а также ползунок, регулирующий интенсивность этих фильтров. Кроме того, есть возможность влиять только на пользовательский интерфейс VRChat или на пользовательский интерфейс VRChat и мир, в котором вы находитесь.  
  
Примечательно, что метод, который мы используем для настройки цветов для фильтрации в прототипе, не работает в Quest из-за графических ограничений. Мы будем решать эту проблему с помощью дальнейших итеративных обновлений и корректировок.  
  
Эта функция также будет включать в себя возможность отключения Bloom, а также ползунки гаммы/яркости и контрастности.  
  
Код, реализующий визуальные изменения, завершен, сейчас он получает пользовательский интерфейс и скоро перейдет в QA.

## Щелчок ползунка  
  
Это попытка добавить привязку к ползункам в наших меню. Это довольно распространенный запрос, так как его действительно сложно выполнить точно на 100% на ползунке громкости!  
  
Это довольно простое дополнение. Задача была поставлена. У него будет переключатель для включения и выключения по всему пользовательскому интерфейсу. Самой простой реализацией было бы установить по умолчанию значение 5% точек привязки.

## Кнопка “Соло аудио”

Как и в аудиомикшере, нажатие кнопки “Solo Voice” на ком-то приведет к отключению звука для всех пользователей, кроме этого человека. Если вы хотите услышать другого человека, вы также можете переключить кнопку solo на него, и вам будут слышны оба пользователя solo'd.  
  
Здесь есть некоторые сложности, но это очень помогло бы пользователям, которые перегружены звуком. У нас уже есть “отключенные” индикаторы на паспортных табличках, поэтому информирование других пользователей о том, что вы отключили их, может быть выполнено без дополнительной работы.  
  
Есть некоторое беспокойство по поводу того, что эта настройка зацикливается на людях. Были начаты работы по проектированию, чтобы понять, как решить эти проблемы, поскольку эта функция, по-видимому, предназначена для случаев, когда звук может подавляться слишком большим количеством людей вокруг вас.

## Ползунок локального Понижения голоса
Это позволило бы пользователям самостоятельно регулировать локальное понижение голоса.  
  
Есть некоторые опасения, что это будет сильно мешать работе пользовательских скриптов управления звуком Udon. Это также может сильно помешать нашей интеграции [Steam Audio](https://valvesoftware.github.io/steam-audio/). Это разрабатывалось в течение очень долгого времени, но в последнее время был достигнут значительный прогресс.

Желание использовать эту функцию может привести к тому, что мы будем усиленно работать с Аудио в Steam, поскольку мы думаем, что это решит массу проблем. ONSP (наш текущий пространственник) очень суров.

## “Разговорный купол”
Работая над двумя вышеупомянутыми довольно похожими функциями (Solo Audio и Local Voice), мы обсуждали идею “разговорного купола”. Это сфера/купол вокруг вас с настраиваемым размером. Любой, кто находится за пределами купола, будет почти полностью приглушен, что позволит вам “сосредоточиться” на разговоре рядом с вами.

Это кажется более элегантным и интуитивно понятным решением, поэтому мы могли бы развернуться и попробовать это вместо этого.

(не волнуйтесь, нам все равно нужен Steam Audio в любом случае).

## Steam Audio
Speak of the devil - [Steam Audio](https://valvesoftware.github.io/steam-audio/) - это полноценная аудиосистема, разработанная Valve. Это не только для Steam - он может работать практически на чем угодно. Так уж получилось, что Valve сделала это и распространяет бесплатно.  
  
Мы хотели этого в течение очень долгого времени, поскольку ONSP (наш текущий spatializer) был признан недостаточным для наших целей. С помощью Steam Audio вы можете делать действительно интересные вещи, например, выпекать окклюзионные и аудиоматериалы.  
  
Тем не менее, сразу же можно сказать, что голосовая настройка Steam Audio намного лучше, чем у ONSP. Это наша главная забота для начала, потому что слышать сразу несколько голосов в VRChat крайне дезориентирует.  
  
Мы ускоряем усилия и еще немного подталкиваем Valve, потому что считаем, что это может решить массу проблем. Мы думаем, что Steam Audio уже совсем близко. Прямо сейчас мы ждем, когда Valve свяжется с нами по поводу некоторых проблем, связанных с сбоями.

## Скрытие аватара на расстоянии
Скрывайте аватары, которые находятся на расстоянии более X метров от вас. Эта задача была назначена и находится в разработке для пользовательского интерфейса!  
  
Предлагаемая реализация не скрывает аватары полностью, а вместо этого заменяет их на сверхнизкополигональный серый ромб с кругом на земле под ним. Нет IK. Мы не хотим, чтобы люди были полностью невидимыми, поскольку в прошлом у нас были проблемы с этим.

Эта задача в настоящее время находится в стадии разработки. Вот как, по нашему мнению, будет выглядеть низкополигональный бриллиант:

![[Avatar Distance Hiding.gif|500]]
Никакой установки, никакого аниматора, статической сетки, экземпляра графического процессора - такая супер производительность.  
  
Мы также рассматриваем, как это может повлиять на производительность, поскольку наложение их друг на друга может вызвать проблемы при наличии прозрачности. Таким образом, мы, вероятно, не позволим им быть прозрачными для начала.  
  
Однако это вызывает другие проблемы - теперь у вас есть куча бриллиантов, потенциально блокирующих обзор сцены. Таким образом, мы рассматриваем дальнейшую итерацию, в которой вы можете уменьшить их еще больше только до круга на земле.

## Text Input to Speech Voice Output
Странное название заголовка очень важно. Существует множество различных систем, на которые мы видели запросы. Преобразование текста в речь для голоса любого пользователя, преобразование речи в текст для голосов других пользователей, преобразование речи в текст для всех аудио, преобразование речи в текст в речь для анонимизации голоса…  
  
Этот конкретный пункт касается ввода текста в VRChat и получения голоса, выводимого с вашего аватара.  
  
Реализация на ПК довольно проста, и уже есть несколько ресурсов, доступных для покупки, которые мы могли бы использовать в качестве нашего внутреннего API. Они будут использовать встроенный Windows TTS API, чтобы вы могли устанавливать любые голоса, которые вам нравятся.  
  
C Quest немного сложнее, так как нет собственного TTS API. Мы могли бы использовать облачный API генерации, но они становятся дорогими! Мы ищем другие решения.

Есть возможность сначала перейти на ПК, а затем поработать над Квестом позже.

## Invite+ исправление
В Secure instances была ошибка, которую мы не обнаружили, когда Invite+ не работал, как описано, из-за изменений, которые мы внесли в Secure Instances.

Мы это исправили. Это уже работает, не нужно ждать обновления клиента.

## Обращение к Порталу
Общий запрос: установите параметр, который, когда он включен, требует, чтобы вы взаимодействовали с порталом, чтобы войти в него. В виртуальной реальности или с контроллером это нажатие на курок. На рабочем столе это щелчок левой кнопкой мыши.

[видео](https://giant.gfycat.com/HotBrilliantBullmastiff.webm)

Задача была поставлена, и теперь у нее есть прототип.

## Ползунок Near-Clipping
Этот ползунок регулирует ближний снимок на камере пользователя.

Это полезно для очень маленьких аватаров, но слишком низкая настройка может вызвать проблемы для миров.  
  
Эта задача была поставлена, но у нее есть некоторые проблемы, поэтому мы планируем попытаться обойти эти проблемы.

## Тип инстанса домашнего мира  
  
Некоторые пользователи хотят загрузиться в другой тип инстанса, отличный от Invite.  
  
Итак, теперь вы можете настроить свой Домашний мир на любой тип экземпляра – Invite, Invite+, Friends, Friends+ and Public.

[видео](https://giant.gfycat.com/UntimelySmoothDoe.webm)

## Ограничитель Партиклов

Это действительно простое изменение. [Ограничитель Партиклов](https://docs.vrchat.com/docs/avatar-particle-system-limits) был в VRChat с 2018 года, но он был скрыт в конфигурационном файле – в основном потому, что он имеет тенденцию нарушать действительно яркие анимации.  
  
Мы собираемся добавить быстрый флажок в пользовательский интерфейс, который позволит вам включать или выключать его без перезапуска VRChat.  
  
Эта опция будет недоступна для Quest, потому что она включена по умолчанию, и мы не думаем, что если позволить людям отключить ее, это принесет много пользы, лучше, чтобы создатели аватаров в Quest работали в рамках ограничений.  
  
Мы тоже хотим скорректировать ограничения, но это было оставлено на потом, так как это усложнит задачу.

## Кнопка Вставить

Мы хотим добавить кнопку "вставить", чтобы ее было очень легко вставлять в текстовые поля, которые вы найдете в VRChat. Это наиболее полезно для вставки ссылок на YouTube.

Новые изменения пользовательского интерфейса могут привести к удвоению объема работы здесь, поэтому новая команда пользовательского интерфейса координирует работу, чтобы свести к минимуму дополнительную работу.

Прямо сейчас эта задача находится на стадии разработки. Вышеперечисленные проблемы усложняют это. Однако реализация этого не займет много времени.

## Лучшее размещение портала
Мы давно хотели поместить размещение портала в конец интерфейса Holoport. Об этом довольно часто просят, поэтому мы назначили его.  
  
Интерфейс и метод нуждаются в небольшом дизайне, поэтому в настоящее время он проходит проверку на проектирование.

## Тактильные ощущения при прикосновении
Эта функция приводит к тому, что тактильные ощущения вашего контроллера активируются с разной силой, когда вы касаетесь различных систем динамики аватара.  
  
Эта задача была поставлена вне игры. Команда разработчиков Avatar Dynamics работает с назначенным разработчиком, чтобы гарантировать, что проверки не повлияют на очень тонкую высокопроизводительную оптимизацию, которая была выполнена для PhysBones и Avatar Dynamics.

## Увеличенное количество Избранных
На первый взгляд это довольно просто, но есть проблемы с тем, чтобы избежать проблем с подкачкой, которые у нас были со старым пользовательским интерфейсом. Новый пользовательский интерфейс может справиться с этим просто отлично, но в текущем главном меню много ошибок, которые препятствуют надежной работе подкачки, не позволяя какой-либо данной группе содержать в ней более 100 элементов.

Команда серверной части работает с нашими инженерами Unity, чтобы найти наилучший способ продвижения вперед.

## Личное Зеркало
Это локальное зеркало, способное вызывать только вас, которое вы можете использовать для множества целей.

Несколько недель назад у нас был создан прототип для летнего джема, так что мы работаем над этим! Это должно произойти довольно быстро. Для этого нужно немного искусства (в основном иконы), но оно почти готово.

Вот обновленный предварительный просмотр видео прототипа. Это почти сделано!

[видео](https://giant.gfycat.com/GroundedBruisedHawaiianmonkseal.webm)

Для калибровочного зеркала для всего тела требуется дополнительная работа, так что над этим тоже сейчас работают.

## Визуализация калибровки Отслеживания всего Тела
Есть несколько запросов для лучшей визуальной обратной связи о том, насколько “близка” калибровка вашего полного тела к вашему аватару. Наши инженеры, специализирующиеся на FBT и IK, ищут способы наилучшим образом представить это.

Эта задача находится в стадии разработки, поэтому может потребоваться некоторое время, прежде чем она дойдет до стадии прототипа. Инженер, работающий над этим, в настоящее время работает над другой задачей из этого списка.

## Смена камеры
Существует давняя ошибка, из-за которой вы немного запаздываете, когда делаете снимок экрана. Это общая просьба. Должно быть легко! Задача была поставлена.

## Портретный режим
Когда вы делаете снимки на телефоне боком, изображение сохраняется в соответствующей ориентации. Мы тоже должны это сделать. Задача была поставлена.

## Увеличенное разрешение скриншотов
Мы хотим (эффективно) отменить ограничение разрешения, которое вы можете выбрать для своей камеры. Есть некоторые опасения, поскольку, как только вы превысите 8K, вам придется прибегнуть к тайлингу, чтобы получить полное разрешение, а это может привести к странным проблемам с постобработкой в мирах. Задача была поставлена.

Мы ищем обходные пути для этой проблемы, но если это что-то большее, чем простое решение, 8K, вероятно, будет максимальным rez, который вы можете установить на данный момент.

Мы также рассматриваем возможность добавления способа настройки rez в приложении, но пока у нас может не хватить места, пока мы не получим главное меню.

## Примечания пользователя
Эта функция позволяет вам делать заметки об отдельных пользователях. Вы можете хранить до 256 символов в каждой заметке и иметь заметку до 2000 человек.  
  
На самом деле это было сделано экспериментально для недели внутреннего джема! Похоже, мы собираемся сначала попытаться реализовать его в Интернете, а затем запустить функции редактирования и отображения в клиенте в следующем выпуске. Возможно, придется подождать с Главным меню 2.0, посмотрим.

## Скрыть Аватар по ID
Эта функция позволит вам заблокировать определенный идентификатор аватара, так что независимо от того, кто его носит, он будет заблокирован.  
  
Обсуждались некоторые конструктивные соображения, в первую очередь связанные с пересечением с системами безопасности и тем, как будет работать “Show Avatar”. Было решено, что система будет переопределять Безопасность, но будет переопределена нажатием кнопки “Показать аватар” на ком-то.

Эта задача находится в стадии разработки, и прототип должен появиться в ближайшее время.

Мы подумывали, не было ли хорошей идеей “Скрыть аватар по автору”. Мы решили, что на данный момент это имеет много социальных последствий, которые нас не устраивают. Это могло иметь странные “охлаждающие эффекты” в сети создателей общедоступных аватаров, с которыми нам было неудобно заниматься сразу. Может быть, позже, когда мы подумаем об этом.

## Охрана и безопасность
В настоящее время обсуждается больше вопросов, связанных с безопасностью, в первую очередь с тем, как обращаться с аватарами crasher. Было известно и ожидалось, что с выпуском EAC краш-аватары очень быстро станут гораздо более распространенными. В течение некоторого времени мы предпринимали несколько попыток помочь в борьбе с нарушителями, но это очень большие усилия и требует больше времени. Они не будут быстрым поворотом, но, к счастью, некоторые из них ведутся уже давно, так что, возможно, мы скоро что-нибудь получим.  
  
Мы хотели бы предоставить сообществу более подробную информацию, но показывать свои силы сложно, поскольку это рискует привести к тому, что злоумышленники получат представление о том, за что им нужно будет отчитываться. Извините! Вам придется поверить нам, что мы работаем над этим. Это главный предмет нашей озабоченности.  
  
Доверие и безопасность повысили суровость санкций за создание и использование вредоносных аватаров.

## SteamVR в Proton  
Оказывается, EAC сломал SteamVR в Proton. Valve быстро заметили, и Proton Experimental [bleeding-edge] был обновлен с исправлением.

Увидимся завтра!

О! Я забыл добавить вот это.

## Расположение/Перемещение главного меню
Это очень распространенный запрос, когда пользователи хотят, чтобы главное меню появлялось прямо перед ними, а не под странным углом на земле, а также перемещалось после его появления.  
  
Это уже есть в новом главном меню. Мы работаем над переносом этой функции в текущее главное меню.  
  
Это находится в разработке, и существует прототип как для текущего главного меню, так и для нового главного меню. В следующий раз у нас будет видео для вас.